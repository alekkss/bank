<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI CRM –°–∏—Å—Ç–µ–º–∞</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <header>
            <h1>
                <span class="logo-icon">ü§ñ</span>
                AI CRM –°–∏—Å—Ç–µ–º–∞
            </h1>
            <div class="header-actions">
                <button class="btn btn-primary" onclick="showAddClientModal()">
                    <span>+</span> –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
                </button>
            </div>
        </header>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="stats-container" id="statsContainer">
            <div class="stat-card">
                <div class="stat-icon">üë•</div>
                <div class="stat-content">
                    <div class="stat-value" id="totalClients">0</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–æ–≤</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚úÖ</div>
                <div class="stat-content">
                    <div class="stat-value" id="activeClients">0</div>
                    <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö</div>
                </div>
            </div>
            <div class="stat-card stat-income">
                <div class="stat-icon">üí∞</div>
                <div class="stat-content">
                    <div class="stat-value" id="totalIncome">0 ‚ÇΩ</div>
                    <div class="stat-label">–î–æ—Ö–æ–¥—ã</div>
                </div>
            </div>
            <div class="stat-card stat-expense">
                <div class="stat-icon">üí∏</div>
                <div class="stat-content">
                    <div class="stat-value" id="totalExpense">0 ‚ÇΩ</div>
                    <div class="stat-label">–†–∞—Å—Ö–æ–¥—ã</div>
                </div>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="main-content">
            <!-- –ü–∞–Ω–µ–ª—å –∫–ª–∏–µ–Ω—Ç–æ–≤ -->
            <div class="clients-panel">
                <div class="panel-header">
                    <h2>üìã –ö–ª–∏–µ–Ω—Ç—ã</h2>
                    <div class="filter-buttons">
                        <button class="filter-btn active" data-status="all" onclick="filterClients('all')">
                            –í—Å–µ
                        </button>
                        <button class="filter-btn" data-status="active" onclick="filterClients('active')">
                            –ê–∫—Ç–∏–≤–Ω—ã–µ
                        </button>
                        <button class="filter-btn" data-status="inactive" onclick="filterClients('inactive')">
                            –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ
                        </button>
                    </div>
                </div>

                <div class="clients-list" id="clientsList">
                    <div class="empty-state">
                        <div class="empty-icon">üë•</div>
                        <p>–ù–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤</p>
                        <button class="btn btn-secondary" onclick="showAddClientModal()">
                            –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
                        </button>
                    </div>
                </div>

                <div id="clientDetails" class="client-details" style="display: none;"></div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ -->
            <div class="ai-panel">
                <div class="panel-header">
                    <h2>üí¨ AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</h2>
                    <button class="btn-icon" onclick="clearChat()" title="–û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç">
                        üóëÔ∏è
                    </button>
                </div>

                <div class="ai-chat" id="aiChat">
                    <div class="empty-state">
                        <div class="empty-icon">ü§ñ</div>
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞ –∏ –∑–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å</p>
                        <p class="empty-hint">–∏–ª–∏ –∑–∞–¥–∞–π—Ç–µ –æ–±—â–∏–π –≤–æ–ø—Ä–æ—Å –æ —Å–∏—Å—Ç–µ–º–µ</p>
                    </div>
                </div>

                <div class="suggested-questions" id="suggestedQuestions" style="display: none;">
                    <div class="suggestions-title">üí° –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã:</div>
                    <div id="suggestionsList"></div>
                </div>

                <div class="ai-input">
                    <textarea 
                        id="aiQuestion" 
                        placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É... (Ctrl+Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏)"
                        rows="3"
                    ></textarea>
                    <button class="btn btn-primary" onclick="askAI()" id="askBtn">
                        <span>üöÄ</span> –°–ø—Ä–æ—Å–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ -->
    <div class="modal" id="addClientModal">
        <div class="modal-overlay" onclick="closeModal('addClientModal')"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç</h3>
                <button class="modal-close" onclick="closeModal('addClientModal')">√ó</button>
            </div>
            <form id="addClientForm" onsubmit="addClient(event)">
                <div class="form-group">
                    <label>–ò–º—è *</label>
                    <input type="text" id="clientName" required placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="clientEmail" placeholder="ivan@example.com">
                </div>
                <div class="form-group">
                    <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" id="clientPhone" placeholder="+7 (900) 123-45-67">
                </div>
                <div class="form-group">
                    <label>–°—Ç–∞—Ç—É—Å</label>
                    <select id="clientStatus">
                        <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–π</option>
                        <option value="inactive">–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π</option>
                        <option value="vip">VIP</option>
                    </select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('addClientModal')">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <span>‚úì</span> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é -->
    <div class="modal" id="addTransactionModal">
        <div class="modal-overlay" onclick="closeModal('addTransactionModal')"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ù–æ–≤–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è</h3>
                <button class="modal-close" onclick="closeModal('addTransactionModal')">√ó</button>
            </div>
            <form id="addTransactionForm" onsubmit="addTransaction(event)">
                <input type="hidden" id="transactionClientId">
                
                <div class="form-group">
                    <label>–¢–∏–ø *</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="direction" value="income" required>
                            <span>üí∞ –î–æ—Ö–æ–¥</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="direction" value="expense" required checked>
                            <span>üí∏ –†–∞—Å—Ö–æ–¥</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>–°—É–º–º–∞ *</label>
                    <input type="number" id="transactionAmount" required min="0" step="0.01" placeholder="1000.00">
                </div>

                <div class="form-group">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                    <select id="transactionCategory" required>
                        <option value="üíº –ó–∞—Ä–ø–ª–∞—Ç–∞">üíº –ó–∞—Ä–ø–ª–∞—Ç–∞</option>
                        <option value="üè™ –ü—Ä–æ–¥—É–∫—Ç—ã">üè™ –ü—Ä–æ–¥—É–∫—Ç—ã</option>
                        <option value="üöå –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç">üöå –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                        <option value="üè† –ñ–ö–•/–ê—Ä–µ–Ω–¥–∞">üè† –ñ–ö–•/–ê—Ä–µ–Ω–¥–∞</option>
                        <option value="üé¨ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è">üé¨ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                        <option value="üí∞ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏">üí∞ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</option>
                        <option value="üè• –ó–¥–æ—Ä–æ–≤—å–µ">üè• –ó–¥–æ—Ä–æ–≤—å–µ</option>
                        <option value="üì± –°–≤—è–∑—å">üì± –°–≤—è–∑—å</option>
                        <option value="üëï –û–¥–µ–∂–¥–∞">üëï –û–¥–µ–∂–¥–∞</option>
                        <option value="üîß –ü—Ä–æ—á–µ–µ">üîß –ü—Ä–æ—á–µ–µ</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea id="transactionDescription" rows="3" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏..."></textarea>
                </div>

                <div class="form-group">
                    <label>–î–∞—Ç–∞</label>
                    <input type="date" id="transactionDate">
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('addTransactionModal')">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <span>‚úì</span> –î–æ–±–∞–≤–∏—Ç—å
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
